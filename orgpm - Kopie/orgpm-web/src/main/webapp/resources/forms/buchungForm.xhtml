<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:cc="http://java.sun.com/jsf/composite"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:cs="http://java.sun.com/jsf/composite/formelements">

<!-- INTERFACE -->

<cc:interface>
	<cc:attribute name="disableForUpdate" required="true" />

	<cc:attribute name="buttonLabel" required="true"></cc:attribute>
	<cc:attribute name="buttonAction"
		method-signature="java.lang.String action()" required="true"></cc:attribute>
</cc:interface>


<!-- IMPLEMENTATION -->
<cc:implementation>
	<h:form id="mainForm"
		style="margin-bottom:10px;font-size:15px;margin-right:7%; margin-left:7%;display:block">
		<p:growl id="input" showDetail="true" ajax="true" />
		<p:panelGrid columns="3">

			<p:outputLabel value="Id" />
			<p:inputText id="bu-id" value="#{buchungActions.aktBuchung.id}" />
			<h:messages for="bu-id" styleClass="error" />

			<p:outputLabel value="HydroId" />
			<p:inputText id = "bu-hid" value="#{buchungActions.hydroId}" style="width:100%" disabled="#{cc.attrs.disableForUpdate}">
			</p:inputText>
			<h:messages for="bu-hid" styleClass="error" />

			<p:outputLabel value="Projekt" />
			<p:selectOneMenu id = "bu-projekt" value="#{buchungActions.aktBuchung.projekt}"
				style="width:100%">
				<f:converter converterId="projektConverter" />
				<f:selectItems var="proj" value="#{projektAktionen.alleProjekte}"
					itemLabel="#{proj.projekt}" />
			</p:selectOneMenu>
			<h:messages for="bu-projekt" styleClass="error" />
			
<ui:remove>
			<p:outputLabel value="Projekt2" />
			<cs:projektWahl id="projektwahl"
				source="#{projektAktionen.alleProjekte}"
				destination="#{buchungActions.selectedProjekt}"
				rerender=":mainForm:actions" />
			<h:messages for="bu-projekt2" styleClass="error" />

			<p:outputLabel value="Aktivität2" />
			<h:panelGroup id="actions">
				<cs:aktionWahl source="#{buchungActions.aktivitaetenByProjekt}"
					destination="#{buchungActions.selectedAktivitaet}"
					execute=":mainForm:projektwahl:select-projekt" />
			</h:panelGroup>
			<h:messages for="bu-projekt3" styleClass="error" />
</ui:remove>

			<p:outputLabel value="Aktivität" />
			<p:selectOneMenu id="bu-akt" value="#{buchungActions.aktBuchung.aktivitaet}"
				style="width:100%">
				<f:converter converterId="aktionConverter" />
				<f:selectItems var="akt" value="#{aktivitaetAktionen.alle}"
					itemLabel="#{akt.aktivitaetText}" />
			</p:selectOneMenu>
			<h:messages for="bu-akt" styleClass="error" />

			<p:outputLabel value="Datum" />
			<p:calendar id="bu-dt" value="#{buchungActions.aktBuchung.datum}"
				pattern="dd.MM.yyyy" />
			<h:messages for="bu-dt" styleClass="error" />

			<p:outputLabel value="Anfang" />
			<p:calendar id="bu-az"
				value="#{buchungActions.aktBuchung.anfangZeit}" pattern="HH:mm"
				mask="true" />
			<h:messages for="bu-az" styleClass="error" />

			<p:outputLabel value="Ende" />
			<p:calendar id="bu-ez" value="#{buchungActions.aktBuchung.endeZeit}"
				pattern="HH:mm" mask="true" />
			<h:messages for="bu-ez" styleClass="error" />
<ui:remove>
			<p:outputLabel value="Pause Von" />
			<p:calendar id="bu-pv" value="#{buchungActions.aktBuchung.pauseVon}"
				pattern="HH:mm" mask="true" />
			<h:messages for="bu-pv" styleClass="error" />

			<p:outputLabel value="Pause Bis" />
			<p:calendar id="bu-pb" value="#{buchungActions.aktBuchung.pauseBis}"
				pattern="HH:mm" mask="true" />
			<h:messages for="bu-pb" styleClass="error" />

			<p:outputLabel value="Stunden" />
			<p:inputText id="bu-st" value="#{buchungActions.aktBuchung.std}" />
			<h:messages for="bu-st" styleClass="error" />

			<p:outputLabel value="Minuten" />
			<p:inputText id="bu-mi" value="#{buchungActions.aktBuchung.min}" />
			<h:messages for="bu-mi" styleClass="error" />
</ui:remove>
			<p:outputLabel value="Tätigkeit" />
			<p:inputText id="bu-tk"
				value="#{buchungActions.aktBuchung.taetigkeiten}" />
			<h:messages for="bu-tk" styleClass="error" />



			<p:commandButton action="#{cc.attrs.buttonAction}"
				value="#{cc.attrs.buttonLabel}" ajax="true" />
		</p:panelGrid>

	</h:form>
</cc:implementation>

</html>